<!DOCTYPE html>
<html lang="en">
    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>t-Rain</title>
    
    <link rel="stylesheet" href="css/style.css">
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">

    <script src="https://d3js.org/d3.v6.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
</head>

<body>
    <script>
        AOS.init();
        AOS.refresh();
    </script>


<div id="cd-vertical-nav" style="margin-top: 0px;">
    <ul style="color: transparent;">
        <li>
            <a href="#title"><span class="cd-dot"></span>
                <span class="cd-label">Title</span>
            </a>
        </li>
        <li>
            <a href="#world-train-usage-slide"><span class="cd-dot"></span>
                <span class="cd-label">Trains all over the world</span>
            </a>
        </li>
        <li>
            <a href="#modes-of-transport-slide"><span class="cd-dot"></span>
                <span class="cd-label">Modes of transport</span>
            </a>
        </li>
        <li>
            <a href="#network-slide"><span class="cd-dot"></span>
                <span class="cd-label">Busiest stations</span>
            </a>
        </li>
        <li>
            <a href="#dendro-slide"><span class="cd-dot"></span>
                <span class="cd-label">Node centrality</span>
            </a>
        </li>
        <li>
            <a href="#disruption-heatmap-slide"><span class="cd-dot"></span>
                <span class="cd-label">Disruptions</span>
            </a>
        </li>
        <li>
            <a href="#spider-chart-slide"><span class="cd-dot"></span>
                <span class="cd-label">Pick Your Station!</span>
            </a>
        </li>
        
    </ul>
</div>

<!-- TITLE AND TRAIN GRAPHIC-->
<section id="title" class="title-slide">

    <img src="videos/raining-cloud.gif" class="cloud-gif" data-aos="fade-right" data-aos-delay="2000" data-aos-duration="2000"/>
    <h1 data-aos="fade-right" data-aos-delay="2000" data-aos-duration="3000">
        t-Rain
    </h1>
    <h2 data-aos="fade-right" data-aos-delay="2200" data-aos-duration="3000">
        The Dutch railway system visualized
    </h2>
    <div class="slideshow">
        <div class="imgslide"></div>
    </div>
    <a href="#intro-slide" class="cd-scroll-down" ></a>
</section>
<!-- END TITLE AND TRAIN GRAPHIC-->

<section id="intro-slide" class="intro-slide">
    <div class="blob-div-left" data-aos="fade-right" data-aos-delay="0" data-aos-duration="500">      
        <p style="left: 20%; text-align: left;"
            data-aos="fade-right" data-aos-delay="400" data-aos-duration="1000"> 
            The Dutch railway system is one of the most advanced in the whole Europe
        </p>
    </div>
            
    <div class="blob-div-right" data-aos="fade-left" data-aos-delay="1100" data-aos-duration="500"> 
            <p style="text-align: right; right: 10%;"
                data-aos="fade-left" data-aos-delay="1400" data-aos-duration="1000"> 
                Its network is complex and requires a deep understanding of the data to be able to make sense of it
            </p>
    </div> 
    <p style="right: 10%; top: 70%;"
        data-aos="fade-in" data-aos-delay="1900" data-aos-duration="1000"> 
        Grab a ticket and have a ride with us!
    </p>
    <video src="videos/ns-card.mp4" autoplay muted loop class="ns-video"></video>

    <a href="#world-train-usage-slide" class="cd-scroll-down"></a>
</section>

<!-- TRAINS USAGE IN THE WORLD COMPARISON -->
<section id="world-train-usage-slide">

    <img src="videos/raining-cloud.gif" class="cloud-gif" data-aos="fade-right" data-aos-delay="0" data-aos-duration="1000"/>
    <div class="world-train-usage-content">
        <h1 class="underlined-title">
            Worldwide train usage
        </h1>  
        <p data-aos="fade-right" data-aos-delay="1000" data-aos-duration="1000"> 
            The Netherlands is one of the countries with the highest train usage in the world. <br>
            But it still falls behind some other European countries.
        </p>
    </div>

    <div style="display: flex; width: 100%; height: 70%;">
        
        <video src="videos/train-loop.mp4" autoplay muted loop class="ns-video"></video>
        
        <div id="vis-world-trains" style="height: 100%; width: 50%;"> 
            <!-- Initialize a select button -->
            <div class="country-button-div"
                data-aos="fade-left" data-aos-delay="100" data-aos-duration="1000" >

                <label for="country-select-button"> Select a Country: </label>
                <select id="country-select-button" style="height: 100%;"></select>

            </div>
            <!-- Create a div where the graph will take place -->
            <div id="train-usage-line-chart" class="world-comparison-plot" 
                data-aos="fade-left" data-aos-delay="100" data-aos-duration="1000" ></div>
            </div>
        </div>
        
        <a href="#modes-of-transport-slide" class="cd-scroll-down"></a>
    </section>
    <!-- END TRAINS USAGE IN THE WORLD COMPARISON -->
    
    <!-- GROUPED BARPLOT -->
    <section id="modes-of-transport-slide" class="modes-of-transport-slide">

        <img src="videos/raining-cloud.gif" class="cloud-gif" data-aos="fade-right" data-aos-delay="0" data-aos-duration="1000"/>
        <div class="modes-of-transport-content">
            <h1 class="underlined-title" >
                What are the most used modes of transport in the Netherlands?
            </h1>
               
            <p class="modes-of-transport-slide" data-aos="fade-right" data-aos-delay="1000" data-aos-duration="1000"> 
                Trains are among the most sustainable modes of transport. 
                However, they are not the most used in the Netherlands. 
            </p>
        </div>
    
        <div style="display: flex; width: 100%; height: 70%;">
            
            <video src="videos/ns-coffee.mp4" autoplay muted loop class="ns-video"></video>
            
            
            <div id="grouped-barplot" class="grouped-barplot"
                data-aos="fade-up" data-aos-delay="100" data-aos="fade-left" data-aos-delay="100" data-aos-duration="1000">
            </div> 
        </div>
        
        <a href="#modes-of-transport-slide-2" class="cd-scroll-down"></a>
    </section>

    <section id="modes-of-transport-slide-2">
        
        <div style="position: absolute; top: 35%; width: 100%; height: 20%; text-align: center; font-size: 320%;"
            data-aos="fade-in" data-aos-delay="500" data-aos-duration="1500">
            Why do people prefer to travel by car so much?
        </div>
        <div style="position: absolute; top: 45%; width: 100%; height: 20%; text-align: center; font-size: 320%;"
            data-aos="fade-in" data-aos-delay="1500" data-aos-duration="1500">
            Let's analyze the Dutch railway network
        </div>


        <a href="#stations-storyline-slide" class="cd-scroll-down"></a>

    </section>
    <!-- END GROUPED BARPLOT -->

    <section id="stations-storyline-slide" style="height: 100%">

        <img src="videos/raining-cloud.gif" class="cloud-gif" data-aos="fade-right" data-aos-duration="1000"/>
        <div>
            <h1 class="underlined-title" style="position: absolute; left:10%; font-size: 300%;">
                Nederlandse Spoorwegen in numbers
            </h1>
        </div>
        <video src="videos/ns-station.mp4" autoplay muted loop style="position: absolute; left: 0%; bottom: 5%; height: 45%; width: 45%;" data-aos="fade-in" data-aos-duration="1000" data-aos-delay="500"></video>

            <div style="position: absolute; width: 60%; height: 60%; right: 0%; top: 0%; 
            background: url('css/img/blob.svg') right no-repeat;"
            data-aos="fade-left" data-aos-delay="400" data-aos-duration="500">
                <p style="position: absolute; right: 10%; top: 0%; font-size: 700%;"
                data-aos="fade-in" data-aos-delay="800" data-aos-duration="1000"> 
                3223 km
                </p>
                <p style="position: absolute; right: 10%; top: 40%; font-size: 280%; text-align: right;"
                    data-aos="fade-left" data-aos-delay="1200" data-aos-duration="500"> 
                    The length of the<br>
                    Dutch railway network<br> <br>
                </p>
        </div> 

        <div style="position: absolute; width: 60%; height: 60%; right: 0%; top: 40%; 
            background: url('css/img/blob.svg') right no-repeat;"
            data-aos="fade-left" data-aos-delay="1600" data-aos-duration="500">
            <p style="position: absolute; right: 10%; top: 0%; font-size: 700%;"
                data-aos="fade-in" data-aos-delay="2000" data-aos-duration="1000"> 
                5.3 km
            </p>
            <p style="position: absolute; right: 10%; top: 40%; font-size: 280%; text-align: right;"
                data-aos="fade-left" data-aos-delay="2400" data-aos-duration="500"> 
                The average distance of <br>
                a neighborhood to its cloest train station<br> <br>
                
            </p>
        </div>
        <a href="#network-slide" class="cd-scroll-down"></a>
    </section>

    <!-- BAR CHART + GRAPH -->
    <section id="network-slide">
        <div style="display: flex;">
            <img src="videos/raining-cloud.gif" class="cloud-gif" data-aos="fade-right" data-aos-delay="0" data-aos-duration="1000"/>
            <div style="width: 50%; height: 100%; position: absolute; left: 10%;">
                <h1 style="text-decoration: underline; text-decoration-color: #f7c82d; text-decoration-thickness: 10px; text-align: left; font-size: 270%;">
                    Which are the busiest train stations?
                </h1>
                <div style="height:40%; text-align: left; font-size: 180%;" data-aos="fade-right" data-aos-delay="400" data-aos-duration="1000"> 
                    <div data-aos="fade-right" data-aos-delay="500" data-aos-duration="1000">
                        Here is a graph of the railway network in the Netherlands.
                        The size of the nodes is proportional to the number of passengers that passed through them in 2018. <br>
                    </div>
                    <div data-aos="fade-right" data-aos-delay="1500" data-aos-duration="1000">
                        <br> Hover over a node in the network to see the corresponding number of passengers it received in 2018.<br>
                    </div>
                    <div id="stations_bargraph" style="width: 80%; height: 10%; position: absolute; bottom: 10%; left: 0%; z-index: 2;" 
                        data-aos="fade-in" data-aos-delay="2500" data-aos-duration="1000"></div>
                </div>
            </div>
            <div id="train_network" style="width: 40%; height: 50%; position: absolute; right: 0%; top: 10%; z-index: 1;" 
                data-aos="fade-in" data-aos-delay="2500" data-aos-duration="1000"></div>
            
        </div> 
        <a href="#dendro-storyline-slide" class="cd-scroll-down"></a>
    </section>
    <!-- END BAR CHART + GRAPH -->

    <section id="dendro-storyline-slide" style="height: 100%">

        <img src="videos/raining-cloud.gif" class="cloud-gif" data-aos="fade-right" data-aos-duration="1000"/>
        <div>
            <h1 class="underlined-title" style="position: absolute; left:10%; font-size: 300%;">
                What are the central nodes of the network?
            </h1>
        </div>
        <video src="videos/train-loop.mp4" autoplay muted loop style="position: absolute; left: 0%; bottom: 5%; height: 45%; width: 45%;" data-aos="fade-in" data-aos-duration="1000" data-aos-delay="500"></video>

    <div style="position: absolute; width: 60%; height: 60%; right: 0%; top: 3%; 
        background: url('css/img/blob.svg') right no-repeat;"
        data-aos="fade-left" data-aos-delay="500" data-aos-duration="500">
            
        <p style="position: absolute; right: 10%; top: 35%; font-size: 250%; text-align: right;"
            data-aos="fade-left" data-aos-delay="1000" data-aos-duration="500"> 
            We now want to visualize the centrality <br>
            of a station in the network. To do so <br>
            we will use the hopcount distribution <br>
        </p>
    </div> 

    <div style="position: absolute; width: 60%; height: 60%; right: 0%; top: 36%; 
        background: url('css/img/blob.svg') right no-repeat;"
        data-aos="fade-left" data-aos-delay="1500" data-aos-duration="500">

        <p style="position: absolute; right: 10%; top: 35%; font-size: 250%; text-align: right;"
            data-aos="fade-left" data-aos-delay="2000" data-aos-duration="500"> 
            The hopcount distribution is the distribution of the shortest paths from a station to all the other stations in the network <br>
        </p>
    </div>
        <a href="#dendro-slide" class="cd-scroll-down"></a>
    </section>

    <!-- DENDROGRAM -->
    <section id = "dendro-slide">

        <img src="videos/raining-cloud.gif" class="cloud-gif" data-aos="fade-right" data-aos-duration="1000"/>

        <div style="display: flex;">
            <div style="width: 50%; position: relative; margin-left: 100px; left: 2%;">
                <h1  class="underlined-title" style="text-align: left; font-size: 270%;" >
                    Hopcount distribution
                </h1>
                <div style="height:40%; text-align: left; font-size: 150%;"
                data-aos="fade-right" data-aos-delay="700" data-aos-duration="1000"> 
                
                <label for="dendro-station-search" style="position: absolute; top: 0%;">Search for a station to show its plots:</label>
                <input type="text" id="dendro-station-search" placeholder="Search a station" style="position: absolute; left: 65%; top: 0%; height: 7%; width: 20%;" > <br>
                <div id="suggestion-box-root" style="position: absolute; left: 65%; top: 9%; width: 21%;"></div>

                <label for="dendro-station-highlight-search">Highlight a station to keep track of it:</label>
                <input type="text" id="dendro-station-highlight-search" placeholder="Highlight a station" style="position: absolute; left: 65%; top: 12%; height: 7%; width: 20%;"> <br>
                <div id="suggestion-box-highlight"  style="position: absolute; left: 65%; top: 21%; width: 21%;"></div>
                
                <input type="button" id="dendro-highlighting-clear-button" 
                style="position: absolute; background-color: white; height: 10%; width: 20%; left: 65%;" value="Clear Highlighting"> <br><br>
                <div data-aos="fade-right" data-aos-delay="1200" data-aos-duration="1000">
                    Hover over the dendrogram to see the optimal path that leads to a certain station. <br>
                    Hover over the distribution barplot to highlight all stations at a certain distance. <br>
                </div>
            </div>
            <div style="position: absolute; height: 50%; bottom: 0%;">
                <div id="hopcount-barplot"></div>
            </div>
        </div>
        <div style="width: 50%">
            <div style="height: 8%; width: 100%;"></div>
            <label id="dendro-station-label" style="width:100%; height:10%;
                    font-size: 230%; font-weight: bold;
                    text-decoration: underline; text-decoration-color: #f7c82d; text-decoration-thickness: 8px;"></label>
                <div id="stations-dendrogram" 
                style="height: 70%; width:  100%;"></div>
            </div>
        </div> 
        <a href="#disruption-storyline-slide" class="cd-scroll-down"></a>
    </section>
    <!-- END DENDROGRAM -->
    
    <!-- DISRUPTION STORYLINE SLIDES -->
    <section id="disruption-storyline-slide">
        
        <img src="videos/raining-cloud.gif" class="cloud-gif" data-aos="fade-right" data-aos-duration="1000"/>
        <div style="position: absolute; left: 10%; width: 100%; height: 60%; font-size: 200%; text-align: left;">
            <h1  class="underlined-title">
                Disruptions in the Netherlands
            </h1>
        </div>
        <div style="position: absolute; width: 60%; height: 60%; right: 0%; top: 0%; 
            background: url('css/img/blob.svg') right no-repeat;"
            data-aos="fade-left" data-aos-delay="0" data-aos-duration="500">
                <p style="position: absolute; right: 10%; top: 0%; font-size: 700%;"
                data-aos="fade-in" data-aos-delay="500" data-aos-duration="1000"> 
                24523
                </p>
                <p style="position: absolute; right: 10%; top: 40%; font-size: 280%; text-align: right;"
                    data-aos="fade-left" data-aos-delay="1200" data-aos-duration="500"> 
                    The number of railway disruptions <br>
                    in the Netherlands in 2022 <br> <br>
                </p>
        </div> 

        <div style="position: absolute; width: 60%; height: 60%; right: 0%; top: 40%; 
            background: url('css/img/blob.svg') right no-repeat;"
            data-aos="fade-left" data-aos-delay="1800" data-aos-duration="500">
            <p style="position: absolute; right: 10%; top: 0%; font-size: 700%;"
                data-aos="fade-in" data-aos-delay="2300" data-aos-duration="1000"> 
                36%
            </p>
            <p style="position: absolute; right: 10%; top: 40%; font-size: 280%; text-align: right;"
                data-aos="fade-left" data-aos-delay="2800" data-aos-duration="500"> 
                The percentage of disruptions <br>
                cused by rolling stock related <br>
                issues in 2022 <br> <br>
            </p>
        </div>

        <video src="videos/train-work.mp4" autoplay muted loop class="ns-video"></video>

        <a href="#disruption-storyline-slide-2" class="cd-scroll-down"></a>

    </section>

    <section id="disruption-storyline-slide-2">
        
        <div style="position: absolute; top: 40%; width: 100%; height: 20%; text-align: center;"
            data-aos="fade-in" data-aos-delay="500" data-aos-duration="1500">
            Let us further delve into the disruptions problem
        </div>

        <a href="#disruption-heatmap-slide" class="cd-scroll-down"></a>
    </section>
    <!-- END DISRUPTION STORYLINE SLIDES -->

    <!-- DISRUPTIONS HEATMAP -->
    <section id="disruption-heatmap-slide">

        <img src="videos/raining-cloud.gif" class="cloud-gif" data-aos="fade-right" data-aos-duration="1000"/>
        <div>
            <h1 class="underlined-title" style="position: absolute; left:10%; font-size: 300%;">
                Disruption Heatmap
            </h1>
        </div>
        <div style="display: flex;">
            <div style="position: absolute; top: 25%; left: 10%; width: 35%;
            font-size: 200%; text-align: left; ">
                <div data-aos="fade-right" data-aos-delay="0" data-aos-duration="1000">
                    Here is a heatmap of the disruptions in the Netherlands in 2022 <br> <br>
                </div>
                <div data-aos="fade-right" data-aos-delay="1200" data-aos-duration="1000">
                    You can filter by cause to see how they distribute over the different Dutch regions: 
                    <select id="cause-select-button" style="height: 100%;"></select> <br> <br>
                </div>
                <div data-aos="fade-right" data-aos-delay="2400" data-aos-duration="1000">
                    Furthermore, you can hover over the heatmap labels to see the number of disruptions that involved a specific train station
                </div> 
            </div>

            <div style="width: 43%; height: 75%; position: absolute; right: 10%; top: 10%;
                background-color: #f7c82d; border-radius: 100%;"
                data-aos="fade-up" data-aos-delay="200" data-aos-duration="1000">
                <div id="disruption-heatmap" style="position: absolute; width: 90%; left: 5%;"></div>
            </div>
        </div>

            <a href="#spider-storyline-slide" class="cd-scroll-down"></a>

    </section>
    <!-- END DISRUPTIONS HEATMAP -->

    <section id="spider-storyline-slide" style="height: 100%">

        <img src="videos/raining-cloud.gif" class="cloud-gif" data-aos="fade-right" data-aos-duration="1000"/>
        <div>
            <h1 style="position: absolute; top: 8%; left: 10%; text-decoration: underline; text-decoration-color: #f7c82d; text-decoration-thickness: 6px; font-size: 300%;">
                Let us move to a more complicated question
            </h1>
        </div>

        <div style="position: absolute; width: 60%; height: 60%; right: 0%; top: 3%; 
            background: url('css/img/blob.svg') right no-repeat;"
            data-aos="fade-left" data-aos-delay="500" data-aos-duration="500">
                
                <p style="position: absolute; right: 10%; top: 40%; font-size: 250%; text-align: right;"
                    data-aos="fade-left" data-aos-delay="1000" data-aos-duration="500"> 
                    Clearly, deciding where to live based on <br>
                    the proximity with a train station <br>
                    is not a simple task
                     <br><br>
                </p>
        </div> 

        <div style="position: absolute; width: 60%; height: 60%; right: 0%; top: 36%; 
            background: url('css/img/blob.svg') right no-repeat;"
            data-aos="fade-left" data-aos-delay="1500" data-aos-duration="500">
  
            <p style="position: absolute; right: 10%; top: 40%; font-size: 250%; text-align: right;"
                data-aos="fade-left" data-aos-delay="2000" data-aos-duration="500"> 
                Maybe we can make use of this data <br>
                to make meaningful comparisons <br>
                So we asked ourselves... <br> <br>
            </p>
        </div>

        
        <video src="videos/ns-desk.mp4" autoplay muted loop class="ns-video"></video>
            

        <a href="#spider-chart-slide" class="cd-scroll-down"></a>

    </section>


    <!-- WHAT'S THE BEST STATION FOR YOU -->
    <section id="spider-chart-slide">
        <h1 data-aos="fade-left" data-aos-delay="200" data-aos-duration="1000" style="font-size: xx-large; text-decoration: underline; text-decoration-color: #f7c82d; text-decoration-thickness: 5px;">
            How can we compare different stations based on our needs?
        </h1>

        <p data-aos="fade-right" data-aos-delay="800" data-aos-duration="1000" style="text-align: left; position: absolute; left: 13%; top:11%; font-size: large;">
            Pick a station using the searchbar on the right to display its relevant statistics on the spider chart and highlight its position on the scatterplot
        </p>
        <p data-aos="fade-right" data-aos-delay="800" data-aos-duration="1000" style="text-align: left; position: absolute; left: 13%;top: 14%; font-size: large;">
            You can select which features to compare on the scatterplot using the dropdown menus
        </p>
        <p data-aos="fade-right" data-aos-delay="800" data-aos-duration="1000" style="text-align: left; position: absolute; left: 13%; top: 17%;  font-size: large;">
            Furthermore, you can display features which are related to a particular station by entering its code in the searchbar on the left
        </p>
        
        <div style="display: flex;">

            <div style="position: absolute; top: 28%; width: 70%; z-index: 1" data-aos="fade-up" data-aos-duration="1000">
                <label  for ="relativeStation">Compare:</label>
                <input type="text" id="relativeStation" placeholder="Enter Station Code" style="align-self: center; width: 10%;" >
                <div  id="suggestion-box-relative" style="align-self: center; width: 10%;"></div>


                <button id="clearRelative" >Clear</button>
            </div>

            <div style=" position: absolute; top: 33%;  width: 70%; z-index: 0" data-aos="fade-up" data-aos-duration="1000">
                
                <label for="xFeature">Feature X:</label>
                <select  id="xFeature"></select>
                
                <label for="yFeature">Feature Y:</label>
                <select id="yFeature"></select>
                
                <div id="station-features-scatter"></div>
            </div>
            <div style="width: 30% ; position: absolute; right: 10%; top:31%;">
                
                <input type="text" id="stationSearch" placeholder="Enter Station Code" 
                    style="align-self: center;">
                <div id="suggestion-box" style="align-self: center;"></div>
                
                

                <button id="clearStations">Clear</button>
                <div style="width: 60%"  
                data-aos="fade-up" data-aos-delay="200" data-aos-duration="1000">   
                <div id="stations-spider-chart" data-aos="fade-up" data-aos-duration="1000" ></div>
            </div>
        </div>
    </div>
    </section>
    <!-- END WHAT'S THE BEST STATION FOR YOU -->

    <footer>
        <p>© 2023 t-Rain: The Dutch railway system visualized</p>
    </footer>

    <script type='module' src="js/grouped-barplot.js" ></script>
    <script type="module" src="js/disruption-heatmap.js"></script>
    <script type="module" src="js/script-world-train-usage.js"></script> 
    <script type="module" src="js/hopcount-barplot.js"></script>
    <script type="module" src="js/stations-dendrogram.js"></script>
    <script type="module" src="js/train-stations-spider-chart.js"></script>
    <script type="module" src="js/network.js"></script>
    <script type="module" src="js/script-features-comparison.js"></script>
    <script type="module" src="js/stations_bargraph.js"></script>
    <script>
        window.onresize = function(){ location.reload(); }
    </script>

</body>
</html>